<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>sci-dash</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico" />
    <!-- CSS files -->
    <link rel="stylesheet" href="./css/tabler.min.css?1684106062" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@latest/tabler-icons.min.css" />
    <style>
      @import url("https://rsms.me/inter/inter.css");
      :root {
        --tblr-font-sans-serif: "Inter Var", -apple-system, BlinkMacSystemFont, San Francisco, Segoe UI, Roboto, Helvetica Neue, sans-serif;
      }
      body {
        font-feature-settings: "cv03", "cv04", "cv11";
      }
    </style>
  </head>
  <body>
    <!--Import charts and data.-->
    <script type="text/javascript" , src="./js/qc_data.js"></script>
    <script type="text/javascript" , src="./js/sci_dash.js"></script>
    <!--Import charts and data.-->
    <div class="page">
      <!-- Navbar -->
      <header class="navbar navbar-expand-md d-print-none">
        <div class="container-xl">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar-menu" aria-controls="navbar-menu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <h1 class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
            <a href="./index.html">
              <img src="./static/logo.svg" width="110" height="32" alt="sci-rocket" class="navbar-brand-image" />
            </a>
            <div>
              <span style="color: #d63939">sci-rocket</span><br /><span style="font-size: 10px"
                ><span style="color: #d63939">sci-rocket</span> / <span style="color: #206bc4">sci-dash</span>: <span id="version">N/A</span></span
              >
            </div>
          </h1>
          <div class="navbar-nav flex-row order-md-last"></div>
        </div>
      </header>
      <div class="page-wrapper">
        <!-- Page header -->
        <div class="page-header d-print-none">
          <div class="container-xl">
            <div class="row g-2 align-items-center">
              <div class="col">
                <!-- Page pre-title -->
                <div class="page-pretitle">Overview</div>
                <h2 class="page-title">
                  Dashboard -
                  <div id="sequencing_run">N/A</div>
                </h2>
              </div>
            </div>
          </div>
        </div>
        <!-- Page body -->
        <div class="page-body">
          <div class="container-xl">
            <div class="row row-deck row-cards">
              <!--Start - Sequencing overview-->
              <div class="col-sm-6 col-lg-3">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total input read-pairs</div>
                      <div class="ms-auto lh-1"></div>
                    </div>
                    <div class="h1 mb-3" , id="n_total_pairs">N/A</div>
                    <div class="d-flex mb-2">
                      <div class="subheader">Correct R1<br /><sub>(p5+p7+ligation+RT)</sub></div>
                      <div class="ms-auto">
                        <span class="text-green d-inline-flex align-items-center lh-1">
                          <div id="n_total_pairs_success_perc">N/A</div>
                          <i class="ti ti-thumb-up"></i>
                        </span>
                        <span class="text-red d-inline-flex align-items-center lh-1">
                          <div id="n_total_pairs_failure_perc">N/A</div>
                          <i class="ti ti-thumb-down"></i>
                        </span>
                      </div>
                    </div>
                    <div class="progress progress-sm">
                      <div class="progress-bar bg-primary" style="width: 0%" role="progressbar" aria-valuemin="0" aria-valuemax="100" , id="n_total_pairs_success_perc_bar"></div>
                    </div>
                    <br />
                    <div class="d-flex align-items-center">
                      <div class="subheader">No. of corrections: <span style="color: #d63939" id="n_total_corrections">N/A</span></div>
                      <div class="ms-auto lh-1"></div>
                    </div>
                    <div id="chart-n_corrections" class="chart-sm" style="height: 100px"></div>
                    <!--Start - Sample counter-->
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total demultiplexed samples</div>
                      <div class="ms-auto lh-1"></div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-3 me-2" id="n_totalsamples">N/A</div>
                      <div class="me-auto">
                        <span class="ti ti-users text-green"></span>
                      </div>
                    </div>
                    <!--End - Sample counter-->
                    <!--Start - Cell counter-->
                    <div class="d-flex align-items-center">
                      <div class="subheader">Total cells (all samples)</div>
                      <div class="ms-auto lh-1"></div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <div class="h1 mb-3 me-2" , id="n_total_cells">N/A</div>
                      <div class="me-auto">
                        <span class="ti ti-health-recognition text-red"></span>
                      </div>
                    </div>
                    <!--End - Cell counter-->
                  </div>
                </div>
              </div>
              <!--End - Sequencing overview-->
              <!--Chart - Succesfull read-pairs per sample-->
              <div class="col-sm-6 col-lg-9">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Succesfull read-pairs per sample<br /><sub>p5+p7+ligation+RT</sub></div>
                    <div id="chart-n_pairs_sample" class="chart-sm" style="min-height: 325px"></div>
                  </div>
                </div>
              </div>
              <!--End Chart - Succesfull read-pairs per sample-->
              <div class="col-md-12">
                <div class="card">
                  <div class="card-header">
                    <ul class="nav nav-tabs card-header-tabs" data-bs-toggle="tabs">
                      <li class="nav-item">
                        <a href="#tabs-cells" class="nav-link active" data-bs-toggle="tab">Sample summary</a>
                      </li>
                      <li class="nav-item">
                        <a href="#tabs-pcr" class="nav-link" data-bs-toggle="tab">Counts - PCR Indexes</a>
                      </li>
                      <li class="nav-item">
                        <a href="#tabs-rt" class="nav-link" data-bs-toggle="tab">Counts - RT</a>
                      </li>
                      <li class="nav-item">
                        <a href="#tabs-uncorrectables" class="nav-link" data-bs-toggle="tab">Uncorrectable barcodes</a>
                      </li>
                      <li class="nav-item">
                        <a href="#tabs-saturation" class="nav-link" data-bs-toggle="tab">Sequencing saturation</a>
                      </li>
                    </ul>
                  </div>
                  <!--Tabs-->
                  <div class="card-body">
                    <div class="tab-content">
                      <!--Tab: Cells-->
                      <div class="tab-pane active show" id="tabs-cells">
                        <div class="container">
                          <div class="row">
                            <div class="card">
                              <div class="card-body">
                                <div id="table-default" class="table-responsive">
                                  <table class="table" id="sample-summary-table">
                                    <thead>
                                      <tr>
                                        <th><button class="table-sort" data-sort="sort-sample">Sample</button></th>
                                        <th><button class="table-sort" data-sort="sort-reads">Total Reads (UMIs)</button></th>
                                        <th><button class="table-sort" data-sort="sort-unique_umi">Total unique UMIs</button></th>
                                        <th><button class="table-sort" data-sort="sort-totalcells">No. cells</button></th>
                                        <th><button class="table-sort" data-sort="sort-totalcells_100">No. cells > 100 UMI</button></th>
                                        <th><button class="table-sort" data-sort="ssort-totalcells_1000">No. cells > 1000 UMI</button></th>
                                        <th><button class="table-sort" data-sort="sort-duplication">Duplication Rate</button></th>
                                      </tr>
                                    </thead>
                                    <tbody class="table-tbody">
                                      <tr></tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!--End Tab: Cells-->
                      <!--Tab: PCR Indexes-->
                      <div class="tab-pane show" id="tabs-pcr">
                        <h4>Counts - PCR Indexes</h4>
                        <div class="container">
                          <div class="row">
                            <!--Chart: Well (p5) -->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - p5 index</div>
                                  <div id="chart-well-p5" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart: Well (p5) -->
                            <!--Chart: Well (p7) -->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - p7 index</div>
                                  <div id="chart-well-p7" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart: Well (p7) -->
                          </div>
                          <br />
                          <div class="row">
                            <!--Chart: Ligation usage -->
                            <div class="col-sm-12 col-lg-12">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Ligation</div>
                                  <div id="chart-ligation" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart: Well (p7) -->
                          </div>
                        </div>
                      </div>
                      <!--End - Tab: PCR Indexes-->
                      <!--Tab: RT plate usage-->
                      <div class="tab-pane" id="tabs-rt">
                        <h4>Counts - RT</h4>
                        <div class="container">
                          <div class="row">
                            <!--Chart - RT: Plate 01-->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - RT (Plate 1)</div>
                                  <div id="chart-rt_plate_01" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart - RT: Plate 01-->
                            <!--Chart - RT: Plate 02-->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - RT (Plate 2)</div>
                                  <div id="chart-rt_plate_02" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <br />
                          <!--End Chart - RT: Plate 02-->
                          <div class="row">
                            <!--Chart - RT: Plate 03-->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - RT (Plate 3)</div>
                                  <div id="chart-rt_plate_03" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart - RT: Plate 03-->
                            <!--Chart - RT: Plate 04-->
                            <div class="col-sm-6 col-lg-6">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Counts - RT (Plate 4)</div>
                                  <div id="chart-rt_plate_04" class="chart-lg"></div>
                                </div>
                              </div>
                            </div>
                            <!--End Chart - RT: Plate 04-->
                          </div>
                        </div>
                      </div>
                      <!--End - Tab: RT plate usage-->
                      <div class="tab-pane" id="tabs-uncorrectables">
                        <h4>Uncorrectable barcodes</h4>
                        <div class="container">
                          <!--Chart - Sankey: Uncorrectable barcode combinations-->
                          <div class="row">
                            <div class="col-sm-12 col-lg-12">
                              <div class="card">
                                <div class="card-body">
                                  <div class="subheader">Sankey: Combinations of uncorrectable barcodes</div>
                                  <div id="chart-sankey_barcodes" class="chart-lg"">
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!--End Chart - Sankey: Uncorrectable barcode combinations-->
                        <br />
                        <!--Start uncorrectable row-->
                        <div class="row">
                          <!--Chart - Uncorrectable barcodes p5 (Top 15)-->
                          <div class="col-sm-6 col-lg-3">
                            <div class="card">
                              <div class="card-body">
                                <div class="subheader">Uncorrectables: p5 index<br /><sub>(Top 15)</sub></div>
                                <div id="chart-top_uncorrectables_p5" class="chart-lg" style="min-height: 400px"></div>
                              </div>
                            </div>
                          </div>
                          <!--End - Uncorrectable barcodes (Top 15)-->
                          <!--Chart - Uncorrectable barcodes p7 (Top 15)-->
                          <div class="col-sm-6 col-lg-3">
                            <div class="card">
                              <div class="card-body">
                                <div class="subheader">Uncorrectables: p7 index<br /><sub>(Top 15)</sub></div>
                                <div id="chart-top_uncorrectables_p7" class="chart-lg" style="min-height: 400px"></div>
                              </div>
                            </div>
                          </div>
                          <!--End - Uncorrectable barcodes (Top 15)-->
                          <!--Chart - Uncorrectable barcodes Ligation (Top 15)-->
                          <div class="col-sm-6 col-lg-3">
                            <div class="card">
                              <div class="card-body">
                                <div class="subheader">Uncorrectables: Ligation<br /><sub>(Top 15)</sub></div>
                                <div id="chart-top_uncorrectables_ligation" class="chart-lg" style="min-height: 400px"></div>
                              </div>
                            </div>
                          </div>
                          <!--End - Uncorrectable barcodes (Top 15)-->
                          <!--Chart - Uncorrectable barcodes RT (Top 15)-->
                          <div class="col-sm-6 col-lg-3">
                            <div class="card">
                              <div class="card-body">
                                <div class="subheader">Uncorrectables: RT<br /><sub>(Top 15)</sub></div>
                                <div id="chart-top_uncorrectables_rt" class="chart-lg" style="min-height: 400px"></div>
                              </div>
                            </div>
                          </div>
                          <!--End - Uncorrectable barcodes (Top 15)-->
                        </div>
                        <!--End uncorrectable row-->
                      </div>
                    </div>
                    <!--End - Tab: Uncorrectable barcodes-->
                    <!--Tab: Saturation (UMI)-->
                    <div class="tab-pane" id="tabs-saturation">
                      <h4>Saturation - UMI</h4>
                      <div class="container">
                        <div class="row">
                          <!--Chart: Cells. vs UMI -->
                          <div class="col-sm-6 col-lg-6">
                            <div class="card">
                              <div class="card-body">
                                <div class="subheader">No. Cells vs. UMI counts</div>
                                <div id="chart-well-p5" class="chart-lg"></div>
                              </div>
                            </div>
                          </div>
                          <!--End Chart: Cells. vs UMI -->
                        </div>
                      </div>
                    </div>
                    <!--End - Tab: Saturation (UMI)-->
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Libs JS -->
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/index.js"></script>
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/xy.js"></script>
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/themes/Animated.js"></script>
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/flow.js"></script>
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/percent.js"></script>
    <script type="text/javascript" , src="https://cdn.amcharts.com/lib/5/plugins/exporting.js"></script>
    <!-- Tabler Core -->
    <script src="./js/tabler.min.js?1684106062" defer></script>
    <script src="./js/list.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const list = new List("sample-summary-table", {
          sortClass: "table-sort",
          listClass: "table-tbody",
          valueNames: ["sort-sample", "sort-reads", "sort-unique_umi", "sort-totalcells", "sort-totalcells_100", "sort-totalcells_1000", "sort-duplication"],
        });
      });
    </script>
  </body>
</html>
